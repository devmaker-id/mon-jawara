<section class="content mt-3">
  <div class="container-fluid">

    <div class="card shadow">
      <div class="card-header bg-dark text-white">
        <h5 class="mb-0"><i class="bi bi-shield-lock-fill me-2"></i> Manajemen Firewall (CHR)</h5>
      </div>

      <div class="card-body">
        <!-- TAB NAVIGATION -->
        <ul class="nav nav-tabs mb-3" role="tablist">
          <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#tab-filter">Filter</a></li>
          <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tab-nat">NAT</a></li>
          <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tab-mangle">Mangle</a></li>
          <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tab-address">Address List</a></li>
        </ul>

        <!-- TAB CONTENT -->
        <div class="tab-content">
          <!-- FILTER -->
          <div class="tab-pane fade show active" id="tab-filter">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h6><i class="bi bi-filter-square me-1"></i> Filter Rules</h6>
              <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#modalFilter">
                <i class="bi bi-plus-circle me-1"></i> Tambah
              </button>
            </div>
            <div class="table-responsive">
            <table class="table table-bordered table-striped">
              <thead class="table-dark">
                <tr>
                  <th>#</th><th>Chain</th><th>Src</th><th>Dst</th><th>Protocol</th><th>Action</th><th>Status</th><th>Aksi</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>1</td><td>forward</td><td>10.0.0.0/24</td><td>192.168.1.0/24</td><td>TCP</td><td>accept</td><td><span class="badge bg-success">Aktif</span></td>
                  <td><button class="btn btn-sm btn-warning"><i class="bi bi-pencil"></i></button>
                      <button class="btn btn-sm btn-danger"><i class="bi bi-trash"></i></button></td>
                </tr>
              </tbody>
            </table>
            </div>
          </div>

          <!-- NAT -->
          <div class="tab-pane fade" id="tab-nat">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h6><i class="bi bi-diagram-2 me-1"></i> NAT Rules</h6>
              <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#modalNAT">
                <i class="bi bi-plus-circle me-1"></i> Tambah
              </button>
            </div>
            <div class="table-responsive">
            <table class="table table-bordered table-striped">
              <thead class="table-dark">
                <tr>
                  <th>#</th><th>Chain</th><th>Src</th><th>Out-Interface</th><th>Action</th><th>Status</th><th>Aksi</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>1</td><td>srcnat</td><td>10.0.0.0/24</td><td>ether1</td><td>masquerade</td><td><span class="badge bg-success">Aktif</span></td>
                  <td><button class="btn btn-sm btn-warning"><i class="bi bi-pencil"></i></button>
                      <button class="btn btn-sm btn-danger"><i class="bi bi-trash"></i></button></td>
                </tr>
              </tbody>
            </table>
            </div>
          </div>

          <!-- MANGLE -->
          <div class="tab-pane fade" id="tab-mangle">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h6><i class="bi bi-diagram-3 me-1"></i> Mangle Rules</h6>
              <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#modalMangle">
                <i class="bi bi-plus-circle me-1"></i> Tambah
              </button>
            </div>
            <div class="table-responsive">
            <table class="table table-bordered table-striped">
              <thead class="table-dark">
                <tr>
                  <th>#</th><th>Chain</th><th>Src</th><th>Mark</th><th>Action</th><th>Status</th><th>Aksi</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>1</td><td>prerouting</td><td>10.0.0.10</td><td>client1</td><td>mark-connection</td><td><span class="badge bg-success">Aktif</span></td>
                  <td><button class="btn btn-sm btn-warning"><i class="bi bi-pencil"></i></button>
                      <button class="btn btn-sm btn-danger"><i class="bi bi-trash"></i></button></td>
                </tr>
              </tbody>
            </table>
            </div>
          </div>

          <!-- ADDRESS LIST -->
          <div class="tab-pane fade" id="tab-address">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h6><i class="bi bi-list-ul me-1"></i> Address List</h6>
              <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#modalAddress">
                <i class="bi bi-plus-circle me-1"></i> Tambah
              </button>
            </div>
            <div class="table-responsive">
            <table class="table table-bordered table-striped">
              <thead class="table-dark">
                <tr>
                  <th>#</th><th>Address</th><th>List</th><th>Comment</th><th>Status</th><th>Aksi</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>1</td><td>10.0.0.5</td><td>block-access</td><td>Client 5</td><td><span class="badge bg-secondary">Nonaktif</span></td>
                  <td><button class="btn btn-sm btn-warning"><i class="bi bi-pencil"></i></button>
                      <button class="btn btn-sm btn-danger"><i class="bi bi-trash"></i></button></td>
                </tr>
              </tbody>
            </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- MODAL: Tambah Filter -->
<div class="modal fade" id="modalFilter" tabindex="-1">
  <div class="modal-dialog"><div class="modal-content">
    <div class="modal-header bg-primary text-white">
      <h5 class="modal-title">Tambah Filter Rule</h5>
    </div>
    <div class="modal-body">
      <div class="mb-2">
        <label>Chain</label>
        <select class="form-select">
          <option value="input">input</option>
          <option value="output">output</option>
          <option value="forward" selected>forward</option>
        </select>
      </div>
      <div class="mb-2">
        <label>Src Address</label>
        <input type="text" class="form-control" placeholder="Contoh: 192.168.1.0/24">
      </div>
      <div class="mb-2">
        <label>Dst Address</label>
        <input type="text" class="form-control" placeholder="Contoh: 10.0.0.0/24">
      </div>
      <div class="mb-2">
        <label>Protocol</label>
        <select class="form-select">
          <option value="tcp">TCP</option>
          <option value="udp">UDP</option>
          <option value="icmp">ICMP</option>
          <option value="">Any</option>
        </select>
      </div>
      <div class="mb-2">
        <label>Action</label>
        <select class="form-select">
          <option value="accept">Accept</option>
          <option value="drop">Drop</option>
          <option value="reject">Reject</option>
        </select>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary">Simpan</button>
      <button class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
    </div>
  </div></div>
</div>

<!-- MODAL: Tambah NAT -->
<div class="modal fade" id="modalNAT" tabindex="-1">
  <div class="modal-dialog"><div class="modal-content">
    <div class="modal-header bg-success text-white">
      <h5 class="modal-title">Tambah NAT Rule</h5>
    </div>
    <div class="modal-body">
      <div class="mb-2">
        <label>Chain</label>
        <select class="form-select">
          <option value="srcnat">srcnat</option>
          <option value="dstnat">dstnat</option>
        </select>
      </div>
      <div class="mb-2">
        <label>Src Address</label>
        <input type="text" class="form-control" placeholder="192.168.88.0/24">
      </div>
      <div class="mb-2">
        <label>Out Interface</label>
        <input type="text" class="form-control" placeholder="ether1, pppoe-out1, dll">
      </div>
      <div class="mb-2">
        <label>Action</label>
        <select class="form-select">
          <option value="masquerade">Masquerade</option>
          <option value="dst-nat">Dst-NAT</option>
          <option value="src-nat">Src-NAT</option>
        </select>
      </div>
      <div class="mb-2">
        <label>To Address (opsional)</label>
        <input type="text" class="form-control" placeholder="10.0.0.10">
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-success">Simpan</button>
      <button class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
    </div>
  </div></div>
</div>

<!-- MODAL: Tambah MANGLE -->
<div class="modal fade" id="modalMangle" tabindex="-1">
  <div class="modal-dialog"><div class="modal-content">
    <div class="modal-header bg-warning text-dark">
      <h5 class="modal-title">Tambah Mangle Rule</h5>
    </div>
    <div class="modal-body">
      <div class="mb-2">
        <label>Chain</label>
        <select class="form-select">
          <option value="prerouting">Prerouting</option>
          <option value="postrouting">Postrouting</option>
          <option value="forward">Forward</option>
        </select>
      </div>
      <div class="mb-2">
        <label>Src Address</label>
        <input type="text" class="form-control" placeholder="192.168.10.0/24">
      </div>
      <div class="mb-2">
        <label>Connection Mark</label>
        <input type="text" class="form-control" placeholder="contoh: conn-mark1">
      </div>
      <div class="mb-2">
        <label>Action</label>
        <select class="form-select">
          <option value="mark-connection">Mark Connection</option>
          <option value="mark-packet">Mark Packet</option>
          <option value="accept">Accept</option>
        </select>
      </div>
      <div class="mb-2">
        <label>New Mark</label>
        <input type="text" class="form-control" placeholder="contoh: user-packet">
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-warning">Simpan</button>
      <button class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
    </div>
  </div></div>
</div>

<!-- MODAL: Tambah ADDRESS-LIST -->
<div class="modal fade" id="modalAddress" tabindex="-1">
  <div class="modal-dialog"><div class="modal-content">
    <div class="modal-header bg-info text-white">
      <h5 class="modal-title">Tambah Address List</h5>
    </div>
    <div class="modal-body">
      <div class="mb-2">
        <label>Address</label>
        <input type="text" class="form-control" placeholder="192.168.10.100">
      </div>
      <div class="mb-2">
        <label>List</label>
        <input type="text" class="form-control" placeholder="contoh: blocked, premium-user">
      </div>
      <div class="mb-2">
        <label>Comment</label>
        <input type="text" class="form-control" placeholder="Keterangan">
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-info text-white">Simpan</button>
      <button class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
    </div>
  </div></div>
</div>



