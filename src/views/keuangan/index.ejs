<!-- views/dashboard-keuangan.ejs -->
<section class="content mt-3">
  <div class="container-fluid">

    <!-- Ringkasan -->
    <div class="row">
      <div class="col-md-4 col-12 mb-3">
        <div class="card bg-success text-white shadow h-100">
          <div class="card-body d-flex align-items-center justify-content-between">
            <div>
              <h5 class="card-title">Pendapatan Hari Ini</h5>
              <h3>Rp <%= summary.today.toLocaleString('id-ID') %></h3>
            </div>
            <i class="bi bi-cash-stack display-5"></i>
          </div>
        </div>
      </div>

      <div class="col-md-4 col-12 mb-3">
        <div class="card bg-info text-white shadow h-100">
          <div class="card-body d-flex align-items-center justify-content-between">
            <div>
              <h5 class="card-title">Pendapatan Minggu Ini</h5>
              <h3>Rp <%= summary.week.toLocaleString('id-ID') %></h3>
            </div>
            <i class="bi bi-calendar-week display-5"></i>
          </div>
        </div>
      </div>

      <div class="col-md-4 col-12 mb-3">
        <div class="card bg-primary text-white shadow h-100">
          <div class="card-body d-flex align-items-center justify-content-between">
            <div>
              <h5 class="card-title">Pendapatan Bulan Ini</h5>
              <h3>Rp <%= summary.month.toLocaleString('id-ID') %></h3>
            </div>
            <i class="bi bi-calendar-month display-5"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Tabel Transaksi Terakhir -->
    <div class="card shadow">
      <div class="card-header bg-dark text-white">
        <h3 class="card-title">
          <i class="bi bi-receipt-cutoff"></i> Transaksi Terakhir
        </h3>
      </div>

      <div class="card-body table-responsive">
        <table class="table table-bordered table-hover table-striped">
          <thead class="table-dark">
            <tr>
              <th>#</th>
              <th>Tanggal</th>
              <th>Nama</th>
              <th>Jenis</th>
              <th>Jumlah</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <% transactions.forEach((trx, i) => { %>
              <tr>
                <td><%= i + 1 %></td>
                <td><%= trx.date %></td>
                <td><%= trx.name %></td>
                <td><%= trx.type %></td>
                <td>Rp <%= trx.amount.toLocaleString('id-ID') %></td>
                <td>
                  <% if (trx.status === 'berhasil') { %>
                    <span class="badge bg-success">Berhasil</span>
                  <% } else { %>
                    <span class="badge bg-secondary">Pending</span>
                  <% } %>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>

  </div>
</section>
