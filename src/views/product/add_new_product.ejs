<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-lg-8 col-md-10">
      <div class="card shadow-sm border-0">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
          <h5 class="mb-0">âž• Tambah Produk Baru</h5>
          <a href="/admin/product" class="btn btn-light btn-sm">
            <i class="bi bi-arrow-left"></i> Kembali
          </a>
        </div>
        <div class="card-body">

          <% if (flashData) { %>
            <div class="alert alert-<%= flashData.type %> alert-dismissible fade show" role="alert">
              <%= flashData.text %>
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          <% } %>

          <form action="/admin/product/add-new" method="POST" enctype="multipart/form-data" id="formTambahProduk">
            <div class="row g-3">

              <div class="col-md-6">
                <label class="form-label">Nama Produk <span class="text-danger">*</span></label>
                <input type="text" name="nama" class="form-control" required placeholder="Contoh: VCR 5000">
              </div>

              <div class="col-md-6">
                <label class="form-label">Kode Produk</label>
                <input type="text" name="kode_produk" class="form-control" placeholder="Opsional">
              </div>

              <div class="col-md-6">
                <label class="form-label">Harga (Rp)</label>
                <input type="number" name="harga" class="form-control" min="0" required placeholder="4000">
              </div>

              <div class="col-md-6">
                <label class="form-label">Stok Awal</label>
                <input type="number" name="stok" class="form-control" min="0" required placeholder="Jumlah stok awal">
              </div>

              <div class="col-md-6">
                <label class="form-label">Satuan</label>
                <input type="text" name="satuan" class="form-control" placeholder="Contoh: pcs, box, unit">
              </div>

              <div class="col-md-6">
                <label class="form-label">Status</label>
                <select name="status" class="form-select" required>
                  <option value="active" selected>Aktif</option>
                  <option value="inactive">Nonaktif</option>
                </select>
              </div>

              <div class="col-12">
                <label class="form-label">Deskripsi Produk</label>
                <textarea name="deskripsi" class="form-control" rows="3" placeholder="Tuliskan detail produk..."></textarea>
              </div>

              <div class="col-12">
                <label class="form-label">Upload Gambar (Opsional)</label>
                <input type="file" name="gambar" class="form-control" accept="image/*">
              </div>

              <div class="col-12 text-end mt-4">
                <button type="submit" class="btn btn-primary px-4">
                  <i class="bi bi-save"></i> Simpan Produk
                </button>
                <button type="reset" class="btn btn-secondary px-3">
                  <i class="bi bi-arrow-counterclockwise"></i> Reset
                </button>
              </div>

            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
</div>

<!-- Optional Preview Gambar -->
<script>
document.querySelector('input[name="gambar"]').addEventListener('change', function (e) {
  const file = e.target.files[0];
  if (!file) return;
  if (!file.type.startsWith('image/')) {
    alert('File harus berupa gambar!');
    e.target.value = '';
    return;
  }
});
</script>
